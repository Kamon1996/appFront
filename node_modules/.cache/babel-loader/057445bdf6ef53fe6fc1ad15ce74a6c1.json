{"ast":null,"code":"import { call, put, takeLeading } from 'redux-saga/effects';\nimport { REQUEST_ADD_NEW_COMMENT, REQUEST_ADD_NEW_POST, REQUEST_CHANGE_COMMENT, REQUEST_CHANGE_POST, REQUEST_DELETE_COMMENT, REQUEST_DELETE_POST, REQUEST_GET_CORRENT_POST, REQUEST_GET_POSTS_ALL } from '../actions/types';\nimport { addNewComment, addNewPost, changePost, deleteComment, deletePost, getCorrentPost, getPostsAll } from '../actions/post';\nimport { REQUEST_LOG_IN, REQUEST_GET_PROFILE, REQUEST_SIGN_IN } from '../actions/types';\nimport { APIlogIn, APIsignIn } from '../../API/auth/POST';\nimport { APIgetCorrentPost, APIgetPostsAll } from '../../API/posts/GET';\nimport { APIAddNewPost } from '../../API/posts/POST';\nimport { APIDeletePost } from '../../API/posts/DELETE';\nimport { APIChangePost } from '../../API/posts/PUT';\nimport { APIAddNewComment } from '../../API/comments/POST';\nimport { APIdeleteComment } from '../../API/comments/DELETE';\nimport { APIchangeComment } from '../../API/comments/PUT';\nimport { APIgetProfile } from '../../API/auth/GET';\nimport { removeError, setError } from '../actions/error';\nimport { signIn } from '../actions/user';\n\nconst delay = ms => new Promise(res => setTimeout(res, ms));\n\nexport function* sagaWatcher() {\n  yield takeLeading(REQUEST_SIGN_IN, sagaSignIn);\n  yield takeLeading(REQUEST_LOG_IN, sagaLogIn);\n  yield takeLeading(REQUEST_ADD_NEW_POST, sagaNewPostAdd);\n  yield takeLeading(REQUEST_DELETE_POST, sagaDeletePost);\n  yield takeLeading(REQUEST_CHANGE_POST, sagaChangePost);\n  yield takeLeading(REQUEST_ADD_NEW_COMMENT, sagaAddNewComment);\n  yield takeLeading(REQUEST_DELETE_COMMENT, sagaDeleteComment);\n  yield takeLeading(REQUEST_GET_CORRENT_POST, sagaGetCorrentPost);\n  yield takeLeading(REQUEST_CHANGE_COMMENT, sagaChangeComment);\n  yield takeLeading(REQUEST_GET_PROFILE, sageGetProfile);\n  yield takeLeading(REQUEST_GET_POSTS_ALL, sagaGetPostsAll);\n} //-----------------------------------------------------------//\n//---------- Настройка Всплывающего окна с ошибкой ----------//\n//-----------------------------------------------------------//\n\nfunction* showError(error) {\n  let timeOut = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5000;\n  yield put(setError(error));\n  yield delay(timeOut);\n  yield put(removeError());\n} //-----------------------------------------------------------//\n//--------------- Операции с ауентификацией -----------------//\n//-----------------------------------------------------------//\n//------ Вход, получение токена и постов ------ //\n\n\nfunction* sagaSignIn() {\n  try {\n    const payload = yield call(APIsignIn);\n    yield put(signIn(payload));\n    const response = yield call(APIgetPostsAll);\n    yield put(getPostsAll(response));\n  } catch (error) {\n    console.log(error.response);\n    yield showError(error.response.data);\n  }\n} //------ Регистрация ------ //\n\n\nfunction* sagaLogIn() {\n  try {\n    yield call(APIlogIn);\n  } catch (error) {\n    yield showError('error');\n  }\n} //------ Если есть токен - Оставить пользователя залогиненым ------ //\n\n\nfunction* sageGetProfile() {\n  try {\n    const response = yield call(APIgetProfile);\n    const allPosts = yield call(APIgetPostsAll);\n    yield put(getPostsAll(allPosts));\n    yield put(signIn(response));\n  } catch (error) {\n    yield showError(error.response.data.message);\n  }\n} //-----------------------------------------------------------//\n//--------------- Операции с постами ------------------------//\n//-----------------------------------------------------------//\n//------ Получить все посты ------ //\n\n\nfunction* sagaGetPostsAll() {\n  try {\n    const response = yield call(APIgetPostsAll);\n    yield put(getPostsAll(response));\n  } catch (error) {\n    console.log(error.response.data);\n    yield showError(error.response.data || `\n        что-то пошло не так\n    `);\n  }\n} //------ Добавить новый пост ------ //\n\n\nfunction* sagaNewPostAdd(action) {\n  try {\n    const payload = yield call(APIAddNewPost, action.payload);\n    yield put(addNewPost(payload));\n  } catch (error) {\n    console.log(error.response.data);\n    yield showError(error.response.data || `\n        что-то пошло не так\n    `);\n  }\n} //------ Удалить выбранный пост ------ //\n\n\nfunction* sagaDeletePost(action) {\n  try {\n    yield call(APIDeletePost, action.payload);\n    yield put(deletePost(action.payload));\n  } catch (error) {\n    console.log(error.response);\n    yield showError(error.response.data.message);\n  }\n} //------ Изменить выбранный пост ------ //\n\n\nfunction* sagaChangePost(action) {\n  try {\n    const changedPost = yield call(APIChangePost, action.payload);\n    yield put(changePost(changedPost));\n  } catch (error) {\n    console.log(error.response.data);\n    yield showError(error.response.data);\n  }\n} //------ Получить выбранный пост по id  ------ //\n\n\nfunction* sagaGetCorrentPost(action) {\n  try {\n    const postData = yield call(APIgetCorrentPost, action.payload);\n    yield put(getCorrentPost(postData));\n  } catch (error) {\n    yield showError(error.response.data.message || `\n      post Not Found\n      `);\n  }\n} //-----------------------------------------------------------//\n//--------------- Операции с комментариями ------------------//\n//-----------------------------------------------------------//\n//------ Добавить новый комментарий ------ //\n\n\nfunction* sagaAddNewComment(action) {\n  try {\n    const newPost = yield call(APIAddNewComment, action.payload);\n    yield put(addNewComment(newPost));\n  } catch (error) {\n    yield showError(error.response.data.message || `\n        Вы ввели слишком много символов!\n        Комментарий не будет опубликован\n    `);\n  }\n} //------ Удалить выбранный комментарий ------ //\n\n\nfunction* sagaDeleteComment(action) {\n  try {\n    yield call(APIdeleteComment, action.payload.commentId);\n    yield put(deleteComment(action.payload.commentId, action.payload.postId));\n  } catch (error) {\n    yield showError(error.response.data.message);\n  }\n} //------ Измененить комментарий  ------ //\n\n\nfunction* sagaChangeComment(action) {\n  try {\n    yield call(APIchangeComment, action.payload);\n  } catch (error) {\n    yield showError(error.response.data.message);\n  }\n}","map":{"version":3,"sources":["/home/dev/Desktop/socialFront/src/Redux/sagas/sagas.js"],"names":["call","put","takeLeading","REQUEST_ADD_NEW_COMMENT","REQUEST_ADD_NEW_POST","REQUEST_CHANGE_COMMENT","REQUEST_CHANGE_POST","REQUEST_DELETE_COMMENT","REQUEST_DELETE_POST","REQUEST_GET_CORRENT_POST","REQUEST_GET_POSTS_ALL","addNewComment","addNewPost","changePost","deleteComment","deletePost","getCorrentPost","getPostsAll","REQUEST_LOG_IN","REQUEST_GET_PROFILE","REQUEST_SIGN_IN","APIlogIn","APIsignIn","APIgetCorrentPost","APIgetPostsAll","APIAddNewPost","APIDeletePost","APIChangePost","APIAddNewComment","APIdeleteComment","APIchangeComment","APIgetProfile","removeError","setError","signIn","delay","ms","Promise","res","setTimeout","sagaWatcher","sagaSignIn","sagaLogIn","sagaNewPostAdd","sagaDeletePost","sagaChangePost","sagaAddNewComment","sagaDeleteComment","sagaGetCorrentPost","sagaChangeComment","sageGetProfile","sagaGetPostsAll","showError","error","timeOut","payload","response","console","log","data","allPosts","message","action","changedPost","postData","newPost","commentId","postId"],"mappings":"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","sourcesContent":["import { call, put, takeLeading } from 'redux-saga/effects';\nimport {\n  REQUEST_ADD_NEW_COMMENT,\n  REQUEST_ADD_NEW_POST,\n  REQUEST_CHANGE_COMMENT,\n  REQUEST_CHANGE_POST,\n  REQUEST_DELETE_COMMENT,\n  REQUEST_DELETE_POST,\n  REQUEST_GET_CORRENT_POST,\n  REQUEST_GET_POSTS_ALL,\n} from '../actions/types';\n\nimport {\n  addNewComment,\n  addNewPost,\n  changePost,\n  deleteComment,\n  deletePost,\n  getCorrentPost,\n  getPostsAll,\n} from '../actions/post';\n\nimport {\n  REQUEST_LOG_IN,\n  REQUEST_GET_PROFILE,\n  REQUEST_SIGN_IN,\n} from '../actions/types';\nimport { APIlogIn, APIsignIn } from '../../API/auth/POST';\nimport { APIgetCorrentPost, APIgetPostsAll } from '../../API/posts/GET';\nimport { APIAddNewPost } from '../../API/posts/POST';\nimport { APIDeletePost } from '../../API/posts/DELETE';\nimport { APIChangePost } from '../../API/posts/PUT';\nimport { APIAddNewComment } from '../../API/comments/POST';\nimport { APIdeleteComment } from '../../API/comments/DELETE';\nimport { APIchangeComment } from '../../API/comments/PUT';\nimport { APIgetProfile } from '../../API/auth/GET';\nimport { removeError, setError } from '../actions/error';\nimport { signIn } from '../actions/user';\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nexport function* sagaWatcher() {\n  yield takeLeading(REQUEST_SIGN_IN, sagaSignIn);\n  yield takeLeading(REQUEST_LOG_IN, sagaLogIn);\n  yield takeLeading(REQUEST_ADD_NEW_POST, sagaNewPostAdd);\n  yield takeLeading(REQUEST_DELETE_POST, sagaDeletePost);\n  yield takeLeading(REQUEST_CHANGE_POST, sagaChangePost);\n  yield takeLeading(REQUEST_ADD_NEW_COMMENT, sagaAddNewComment);\n  yield takeLeading(REQUEST_DELETE_COMMENT, sagaDeleteComment);\n  yield takeLeading(REQUEST_GET_CORRENT_POST, sagaGetCorrentPost);\n  yield takeLeading(REQUEST_CHANGE_COMMENT, sagaChangeComment);\n  yield takeLeading(REQUEST_GET_PROFILE, sageGetProfile);\n  yield takeLeading(REQUEST_GET_POSTS_ALL, sagaGetPostsAll);\n}\n//-----------------------------------------------------------//\n//---------- Настройка Всплывающего окна с ошибкой ----------//\n//-----------------------------------------------------------//\n\nfunction* showError(error, timeOut = 5000) {\n  yield put(setError(error));\n  yield delay(timeOut);\n  yield put(removeError());\n}\n\n//-----------------------------------------------------------//\n//--------------- Операции с ауентификацией -----------------//\n//-----------------------------------------------------------//\n\n//------ Вход, получение токена и постов ------ //\n\nfunction* sagaSignIn() {\n  try {\n    const payload = yield call(APIsignIn);\n    yield put(signIn(payload));\n    const response = yield call(APIgetPostsAll);\n    yield put(getPostsAll(response));\n  } catch (error) {\n    console.log(error.response);\n    yield showError(error.response.data);\n  }\n}\n\n//------ Регистрация ------ //\n\nfunction* sagaLogIn() {\n  try {\n    yield call(APIlogIn);\n  } catch (error) {\n    yield showError('error');\n  }\n}\n\n//------ Если есть токен - Оставить пользователя залогиненым ------ //\n\nfunction* sageGetProfile() {\n  try {\n    const response = yield call(APIgetProfile);\n    const allPosts = yield call(APIgetPostsAll);\n    yield put(getPostsAll(allPosts));\n    yield put(signIn(response));\n  } catch (error) {\n    yield showError(error.response.data.message);\n  }\n}\n\n//-----------------------------------------------------------//\n//--------------- Операции с постами ------------------------//\n//-----------------------------------------------------------//\n\n//------ Получить все посты ------ //\n\nfunction* sagaGetPostsAll() {\n  try {\n    const response = yield call(APIgetPostsAll);\n    yield put(getPostsAll(response));\n  } catch (error) {\n    console.log(error.response.data);\n    yield showError(\n      error.response.data ||\n        `\n        что-то пошло не так\n    `\n    );\n  }\n}\n\n//------ Добавить новый пост ------ //\n\nfunction* sagaNewPostAdd(action) {\n  try {\n    const payload = yield call(APIAddNewPost, action.payload);\n    yield put(addNewPost(payload));\n  } catch (error) {\n    console.log(error.response.data);\n    yield showError(\n      error.response.data ||\n        `\n        что-то пошло не так\n    `\n    );\n  }\n}\n\n//------ Удалить выбранный пост ------ //\n\nfunction* sagaDeletePost(action) {\n  try {\n    yield call(APIDeletePost, action.payload);\n    yield put(deletePost(action.payload));\n  } catch (error) {\n    console.log(error.response);\n    yield showError(error.response.data.message);\n  }\n}\n\n//------ Изменить выбранный пост ------ //\n\nfunction* sagaChangePost(action) {\n  try {\n    const changedPost = yield call(APIChangePost, action.payload);\n    yield put(changePost(changedPost));\n  } catch (error) {\n    console.log(error.response.data);\n    yield showError(error.response.data);\n  }\n}\n\n//------ Получить выбранный пост по id  ------ //\n\nfunction* sagaGetCorrentPost(action) {\n  try {\n    const postData = yield call(APIgetCorrentPost, action.payload);\n    yield put(getCorrentPost(postData));\n  } catch (error) {\n    yield showError(\n      error.response.data.message ||\n        `\n      post Not Found\n      `\n    );\n  }\n}\n\n//-----------------------------------------------------------//\n//--------------- Операции с комментариями ------------------//\n//-----------------------------------------------------------//\n\n//------ Добавить новый комментарий ------ //\n\nfunction* sagaAddNewComment(action) {\n  try {\n    const newPost = yield call(APIAddNewComment, action.payload);\n    yield put(addNewComment(newPost));\n  } catch (error) {\n    yield showError(\n      error.response.data.message ||\n        `\n        Вы ввели слишком много символов!\n        Комментарий не будет опубликован\n    `\n    );\n  }\n}\n\n//------ Удалить выбранный комментарий ------ //\n\nfunction* sagaDeleteComment(action) {\n  try {\n    yield call(APIdeleteComment, action.payload.commentId);\n    yield put(deleteComment(action.payload.commentId, action.payload.postId));\n  } catch (error) {\n    yield showError(error.response.data.message);\n  }\n}\n\n//------ Измененить комментарий  ------ //\n\nfunction* sagaChangeComment(action) {\n  try {\n    yield call(APIchangeComment, action.payload);\n  } catch (error) {\n    yield showError(error.response.data.message);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}