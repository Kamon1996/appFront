{"ast":null,"code":"var _jsxFileName = \"/home/dev/Desktop/socialFront/src/components/Comment/Comment.jsx\",\n    _s = $RefreshSig$();\n\nimport './index.css';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { reqChangeComment } from '../../Redux/actions/post';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Comment(props) {\n  _s();\n\n  const {\n    id,\n    body,\n    userID,\n    created_at,\n    updated_at,\n    author\n  } = props.data;\n  console.log(userID);\n  const {\n    onDelete\n  } = props;\n  const {\n    id: currentUserID\n  } = useSelector(store => store.user);\n  const dispatch = useDispatch();\n\n  const changeCommentHandler = (id, newComment) => {\n    dispatch(reqChangeComment(id, newComment));\n  };\n\n  const [editeble, allowEdit] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    className: \"comment-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-item-avatar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-item-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row comment-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"author\",\n          children: [author.name, \" \", author.sername]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row comment-buttons\",\n          children: author.id === currentUserID && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => allowEdit(true),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-pen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onDelete,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        contentEditable: editeble,\n        className: \"text\",\n        children: body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), editeble && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => allowEdit(false, changeCommentHandler(id, e.target.previousElementSibling.innerText)),\n        className: \"btn-nice blue\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"data-info\",\n        children: created_at\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Comment, \"rgh6/kXY3gqLWgpRhGcAtc/eRk8=\", true, function () {\n  return [useDispatch];\n});\n\n_c = Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/home/dev/Desktop/socialFront/src/components/Comment/Comment.jsx"],"names":["React","useState","useDispatch","reqChangeComment","Comment","props","id","body","userID","created_at","updated_at","author","data","console","log","onDelete","currentUserID","useSelector","store","user","dispatch","changeCommentHandler","newComment","editeble","allowEdit","name","sername","e","target","previousElementSibling","innerText"],"mappings":";;;AAAA,OAAO,aAAP;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,gBAAT,QAAiC,0BAAjC;;;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA;;AACrC,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,IAAN;AAAYC,IAAAA,MAAZ;AAAoBC,IAAAA,UAApB;AAAgCC,IAAAA,UAAhC;AAA4CC,IAAAA;AAA5C,MAAuDN,KAAK,CAACO,IAAnE;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAeV,KAArB;AACA,QAAM;AAAEC,IAAAA,EAAE,EAAEU;AAAN,MAAwBC,WAAW,CAAEC,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAAzC;AAEA,QAAMC,QAAQ,GAAGlB,WAAW,EAA5B;;AACA,QAAMmB,oBAAoB,GAAG,CAACf,EAAD,EAAKgB,UAAL,KAAoB;AAC/CF,IAAAA,QAAQ,CAACjB,gBAAgB,CAACG,EAAD,EAAKgB,UAAL,CAAjB,CAAR;AACD,GAFD;;AAGA,QAAM,CAACC,QAAD,EAAWC,SAAX,IAAwBvB,QAAQ,CAAC,KAAD,CAAtC;AACA,sBACE;AAAK,IAAA,EAAE,EAAEK,EAAT;AAAa,IAAA,SAAS,EAAC,cAAvB;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,QAAd;AAAA,qBACGK,MAAM,CAACc,IADV,OACiBd,MAAM,CAACe,OADxB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,oBACGf,MAAM,CAACL,EAAP,KAAcU,aAAd,iBACC;AAAA,oCACE;AAAQ,cAAA,OAAO,EAAE,MAAMQ,SAAS,CAAC,IAAD,CAAhC;AAAA,qCACE;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAQ,cAAA,OAAO,EAAET,QAAjB;AAAA,qCACE;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAkBE;AAAI,QAAA,eAAe,EAAEQ,QAArB;AAA+B,QAAA,SAAS,EAAC,MAAzC;AAAA,kBACGhB;AADH;AAAA;AAAA;AAAA;AAAA,cAlBF,EAqBGgB,QAAQ,iBACP;AACE,QAAA,OAAO,EAAGI,CAAD,IACPH,SAAS,CACP,KADO,EAEPH,oBAAoB,CAClBf,EADkB,EAElBqB,CAAC,CAACC,MAAF,CAASC,sBAAT,CAAgCC,SAFd,CAFb,CAFb;AAUE,QAAA,SAAS,EAAC,eAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBJ,eAqCE;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA,kBAA0BrB;AAA1B;AAAA;AAAA;AAAA;AAAA,cArCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4CD;;GAvDuBL,O;UAMLF,W;;;KANKE,O","sourcesContent":["import './index.css';\n\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { reqChangeComment } from '../../Redux/actions/post';\n\nexport default function Comment(props) {\n  const { id, body, userID, created_at, updated_at, author } = props.data;\n  console.log(userID);\n  const { onDelete } = props;\n  const { id: currentUserID } = useSelector((store) => store.user);\n\n  const dispatch = useDispatch();\n  const changeCommentHandler = (id, newComment) => {\n    dispatch(reqChangeComment(id, newComment));\n  };\n  const [editeble, allowEdit] = useState(false);\n  return (\n    <div id={id} className='comment-item'>\n      <div className='comment-item-avatar'></div>\n      <div className='comment-item-body'>\n        <div className='row comment-header'>\n          <h5 className='author'>\n            {author.name} {author.sername}\n          </h5>\n          <div className='row comment-buttons'>\n            {author.id === currentUserID && (\n              <>\n                <button onClick={() => allowEdit(true)}>\n                  <i className='fas fa-pen'></i>\n                </button>\n                <button onClick={onDelete}>\n                  <i className='fas fa-times'></i>\n                </button>\n              </>\n            )}\n          </div>\n        </div>\n        <h4 contentEditable={editeble} className='text'>\n          {body}\n        </h4>\n        {editeble && (\n          <button\n            onClick={(e) =>\n              allowEdit(\n                false,\n                changeCommentHandler(\n                  id,\n                  e.target.previousElementSibling.innerText\n                )\n              )\n            }\n            className='btn-nice blue'\n          >\n            Сохранить\n          </button>\n        )}\n        <p className='data-info'>{created_at}</p>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}