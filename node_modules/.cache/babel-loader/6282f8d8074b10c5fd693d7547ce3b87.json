{"ast":null,"code":"import { call, put, takeEvery, takeLeading } from 'redux-saga/effects';\nimport { REQUEST_ADD_NEW_COMMENT, REQUEST_ADD_NEW_POST, REQUEST_CHANGE_COMMENT, REQUEST_CHANGE_POST, REQUEST_DELETE_COMMENT, REQUEST_DELETE_POST, REQUEST_GET_CORRENT_POST, REQUEST_GET_POSTS_ALL, REQUEST_LOG_OUT } from '../actions/types';\nimport { addNewComment, addNewPost, changePost, deleteComment, deletePost, getCorrentPost, getPostsAll } from '../actions/post';\nimport { REQUEST_LOG_IN, REQUEST_GET_PROFILE, REQUEST_SIGN_IN } from '../actions/types';\nimport { APIlogIn, APIsignIn } from '../../API/auth/POST';\nimport { APIgetCorrentPost, APIgetPostsAll } from '../../API/posts/GET';\nimport { APIAddNewPost } from '../../API/posts/POST';\nimport { APIDeletePost } from '../../API/posts/DELETE';\nimport { APIChangePost } from '../../API/posts/PUT';\nimport { APIAddNewComment } from '../../API/comments/POST';\nimport { APIdeleteComment } from '../../API/comments/DELETE';\nimport { APIchangeComment } from '../../API/comments/PUT';\nimport { APIgetProfile } from '../../API/auth/GET';\nimport { removeError, setError } from '../actions/error';\nimport { logOut, signIn } from '../actions/user';\nimport { APIlogOut } from '../../API/auth/DELETE';\n\nconst delay = ms => new Promise(res => setTimeout(res, ms));\n\nexport function* sagaWatcher() {\n  yield takeLeading(REQUEST_SIGN_IN, sagaSignIn);\n  yield takeLeading(REQUEST_LOG_IN, sagaLogIn);\n  yield takeEvery(REQUEST_ADD_NEW_POST, sagaNewPostAdd);\n  yield takeLeading(REQUEST_DELETE_POST, sagaDeletePost);\n  yield takeLeading(REQUEST_CHANGE_POST, sagaChangePost);\n  yield takeLeading(REQUEST_ADD_NEW_COMMENT, sagaAddNewComment);\n  yield takeLeading(REQUEST_DELETE_COMMENT, sagaDeleteComment);\n  yield takeLeading(REQUEST_GET_CORRENT_POST, sagaGetCorrentPost);\n  yield takeLeading(REQUEST_CHANGE_COMMENT, sagaChangeComment);\n  yield takeLeading(REQUEST_GET_PROFILE, sageGetProfile);\n  yield takeLeading(REQUEST_GET_POSTS_ALL, sagaGetPostsAll);\n  yield takeLeading(REQUEST_LOG_OUT, sagaLogOut);\n} //-----------------------------------------------------------//\n//---------- Настройка Всплывающего окна с ошибкой ----------//\n//-----------------------------------------------------------//\n\nfunction* showError(error) {\n  let timeOut = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1500;\n  yield put(setError(error));\n  yield delay(timeOut);\n  yield put(removeError());\n} //-----------------------------------------------------------//\n//--------------- Операции с ауентификацией -----------------//\n//-----------------------------------------------------------//\n//------ Вход, получение токена и постов ------ //\n\n\nfunction* sagaSignIn() {\n  try {\n    const payload = yield call(APIsignIn);\n    yield put(signIn(payload));\n  } catch (error) {\n    yield showError(error.response.data || error.response.data[0]);\n  }\n} //------ Регистрация ------ //\n\n\nfunction* sagaLogIn() {\n  try {\n    yield call(APIlogIn);\n  } catch (error) {\n    yield showError(error.response.data.error[0]);\n  }\n} //------ Если есть токен - Оставить пользователя залогиненым ------ //\n\n\nfunction* sageGetProfile() {\n  try {\n    const response = yield call(APIgetProfile);\n    yield put(signIn(response));\n  } catch (error) {\n    yield showError(error.response.data.errors[0] || `\n      Что-то пошло не так..\n      `);\n  }\n} //------ Выход из сессии ------ //\n\n\nfunction* sagaLogOut() {\n  try {\n    yield call(APIlogOut);\n    yield put(logOut());\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n} //-----------------------------------------------------------//\n//--------------- Операции с постами ------------------------//\n//-----------------------------------------------------------//\n//------ Получить все посты ------ //\n\n\nfunction* sagaGetPostsAll() {\n  try {\n    const response = yield call(APIgetPostsAll);\n    yield put(getPostsAll(response.data.posts));\n  } catch (error) {\n    yield showError(error.response.data.errors[0] || `\n      Что-то пошло не так..\n      `);\n  }\n} //------ Добавить новый пост ------ //\n\n\nfunction* sagaNewPostAdd(action) {\n  try {\n    const payload = yield call(APIAddNewPost, action.payload);\n    yield put(addNewPost(payload));\n  } catch (error) {\n    yield showError(error.response.data[0] || `\n        что-то пошло не так\n    `);\n  }\n} //------ Удалить выбранный пост ------ //\n\n\nfunction* sagaDeletePost(action) {\n  try {\n    yield call(APIDeletePost, action.payload);\n    yield put(deletePost(action.payload));\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n} //------ Изменить выбранный пост ------ //\n\n\nfunction* sagaChangePost(action) {\n  try {\n    const changedPost = yield call(APIChangePost, action.payload);\n    yield put(changePost(changedPost));\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n} //------ Получить выбранный пост по id  ------ //\n\n\nfunction* sagaGetCorrentPost(action) {\n  try {\n    const postData = yield call(APIgetCorrentPost, action.payload);\n    yield put(getCorrentPost(postData));\n  } catch (error) {\n    yield showError(error.response.data[0] || `\n      post Not Found\n      `);\n  }\n} //-----------------------------------------------------------//\n//--------------- Операции с комментариями ------------------//\n//-----------------------------------------------------------//\n//------ Добавить новый комментарий ------ //\n\n\nfunction* sagaAddNewComment(action) {\n  try {\n    const newPost = yield call(APIAddNewComment, action.payload);\n    yield put(addNewComment(newPost));\n  } catch (error) {\n    yield showError(error.response.data[0] || `\n        Привет, кажется ты нашел баг!\n        Сейчас разберемся..\n    `);\n  }\n} //------ Удалить выбранный комментарий ------ //\n\n\nfunction* sagaDeleteComment(action) {\n  try {\n    yield call(APIdeleteComment, action.payload.commentId);\n    yield put(deleteComment(action.payload.commentId, action.payload.postId));\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n} //------ Измененить комментарий  ------ //\n\n\nfunction* sagaChangeComment(action) {\n  try {\n    yield call(APIchangeComment, action.payload);\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n}","map":{"version":3,"sources":["/home/dev/Desktop/socialFront/src/Redux/sagas/sagas.js"],"names":["call","put","takeEvery","takeLeading","REQUEST_ADD_NEW_COMMENT","REQUEST_ADD_NEW_POST","REQUEST_CHANGE_COMMENT","REQUEST_CHANGE_POST","REQUEST_DELETE_COMMENT","REQUEST_DELETE_POST","REQUEST_GET_CORRENT_POST","REQUEST_GET_POSTS_ALL","REQUEST_LOG_OUT","addNewComment","addNewPost","changePost","deleteComment","deletePost","getCorrentPost","getPostsAll","REQUEST_LOG_IN","REQUEST_GET_PROFILE","REQUEST_SIGN_IN","APIlogIn","APIsignIn","APIgetCorrentPost","APIgetPostsAll","APIAddNewPost","APIDeletePost","APIChangePost","APIAddNewComment","APIdeleteComment","APIchangeComment","APIgetProfile","removeError","setError","logOut","signIn","APIlogOut","delay","ms","Promise","res","setTimeout","sagaWatcher","sagaSignIn","sagaLogIn","sagaNewPostAdd","sagaDeletePost","sagaChangePost","sagaAddNewComment","sagaDeleteComment","sagaGetCorrentPost","sagaChangeComment","sageGetProfile","sagaGetPostsAll","sagaLogOut","showError","error","timeOut","payload","response","data","errors","posts","action","changedPost","postData","newPost","commentId","postId"],"mappings":"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","sourcesContent":["import { call, put, takeEvery, takeLeading } from 'redux-saga/effects';\nimport {\n  REQUEST_ADD_NEW_COMMENT,\n  REQUEST_ADD_NEW_POST,\n  REQUEST_CHANGE_COMMENT,\n  REQUEST_CHANGE_POST,\n  REQUEST_DELETE_COMMENT,\n  REQUEST_DELETE_POST,\n  REQUEST_GET_CORRENT_POST,\n  REQUEST_GET_POSTS_ALL,\n  REQUEST_LOG_OUT,\n} from '../actions/types';\n\nimport {\n  addNewComment,\n  addNewPost,\n  changePost,\n  deleteComment,\n  deletePost,\n  getCorrentPost,\n  getPostsAll,\n} from '../actions/post';\n\nimport {\n  REQUEST_LOG_IN,\n  REQUEST_GET_PROFILE,\n  REQUEST_SIGN_IN,\n} from '../actions/types';\nimport { APIlogIn, APIsignIn } from '../../API/auth/POST';\nimport { APIgetCorrentPost, APIgetPostsAll } from '../../API/posts/GET';\nimport { APIAddNewPost } from '../../API/posts/POST';\nimport { APIDeletePost } from '../../API/posts/DELETE';\nimport { APIChangePost } from '../../API/posts/PUT';\nimport { APIAddNewComment } from '../../API/comments/POST';\nimport { APIdeleteComment } from '../../API/comments/DELETE';\nimport { APIchangeComment } from '../../API/comments/PUT';\nimport { APIgetProfile } from '../../API/auth/GET';\nimport { removeError, setError } from '../actions/error';\nimport { logOut, signIn } from '../actions/user';\nimport { APIlogOut } from '../../API/auth/DELETE';\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nexport function* sagaWatcher() {\n  yield takeLeading(REQUEST_SIGN_IN, sagaSignIn);\n  yield takeLeading(REQUEST_LOG_IN, sagaLogIn);\n  yield takeEvery(REQUEST_ADD_NEW_POST, sagaNewPostAdd);\n  yield takeLeading(REQUEST_DELETE_POST, sagaDeletePost);\n  yield takeLeading(REQUEST_CHANGE_POST, sagaChangePost);\n  yield takeLeading(REQUEST_ADD_NEW_COMMENT, sagaAddNewComment);\n  yield takeLeading(REQUEST_DELETE_COMMENT, sagaDeleteComment);\n  yield takeLeading(REQUEST_GET_CORRENT_POST, sagaGetCorrentPost);\n  yield takeLeading(REQUEST_CHANGE_COMMENT, sagaChangeComment);\n  yield takeLeading(REQUEST_GET_PROFILE, sageGetProfile);\n  yield takeLeading(REQUEST_GET_POSTS_ALL, sagaGetPostsAll);\n  yield takeLeading(REQUEST_LOG_OUT, sagaLogOut);\n}\n//-----------------------------------------------------------//\n//---------- Настройка Всплывающего окна с ошибкой ----------//\n//-----------------------------------------------------------//\n\nfunction* showError(error, timeOut = 1500) {\n  yield put(setError(error));\n  yield delay(timeOut);\n  yield put(removeError());\n}\n\n//-----------------------------------------------------------//\n//--------------- Операции с ауентификацией -----------------//\n//-----------------------------------------------------------//\n\n//------ Вход, получение токена и постов ------ //\n\nfunction* sagaSignIn() {\n  try {\n    const payload = yield call(APIsignIn);\n    yield put(signIn(payload));\n  } catch (error) {\n    yield showError(error.response.data || error.response.data[0]);\n  }\n}\n\n//------ Регистрация ------ //\n\nfunction* sagaLogIn() {\n  try {\n    yield call(APIlogIn);\n  } catch (error) {\n    yield showError(error.response.data.error[0]);\n  }\n}\n\n//------ Если есть токен - Оставить пользователя залогиненым ------ //\n\nfunction* sageGetProfile() {\n  try {\n    const response = yield call(APIgetProfile);\n    yield put(signIn(response));\n  } catch (error) {\n    yield showError(\n      error.response.data.errors[0] ||\n        `\n      Что-то пошло не так..\n      `\n    );\n  }\n}\n\n//------ Выход из сессии ------ //\n\nfunction* sagaLogOut() {\n  try {\n    yield call(APIlogOut);\n    yield put(logOut());\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n}\n\n//-----------------------------------------------------------//\n//--------------- Операции с постами ------------------------//\n//-----------------------------------------------------------//\n\n//------ Получить все посты ------ //\n\nfunction* sagaGetPostsAll() {\n  try {\n    const response = yield call(APIgetPostsAll);\n    yield put(getPostsAll(response.data.posts));\n  } catch (error) {\n    yield showError(\n      error.response.data.errors[0] ||\n        `\n      Что-то пошло не так..\n      `\n    );\n  }\n}\n\n//------ Добавить новый пост ------ //\n\nfunction* sagaNewPostAdd(action) {\n  try {\n    const payload = yield call(APIAddNewPost, action.payload);\n    yield put(addNewPost(payload));\n  } catch (error) {\n    yield showError(\n      error.response.data[0] ||\n        `\n        что-то пошло не так\n    `\n    );\n  }\n}\n\n//------ Удалить выбранный пост ------ //\n\nfunction* sagaDeletePost(action) {\n  try {\n    yield call(APIDeletePost, action.payload);\n    yield put(deletePost(action.payload));\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n}\n\n//------ Изменить выбранный пост ------ //\n\nfunction* sagaChangePost(action) {\n  try {\n    const changedPost = yield call(APIChangePost, action.payload);\n    yield put(changePost(changedPost));\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n}\n\n//------ Получить выбранный пост по id  ------ //\n\nfunction* sagaGetCorrentPost(action) {\n  try {\n    const postData = yield call(APIgetCorrentPost, action.payload);\n    yield put(getCorrentPost(postData));\n  } catch (error) {\n    yield showError(\n      error.response.data[0] ||\n        `\n      post Not Found\n      `\n    );\n  }\n}\n\n//-----------------------------------------------------------//\n//--------------- Операции с комментариями ------------------//\n//-----------------------------------------------------------//\n\n//------ Добавить новый комментарий ------ //\n\nfunction* sagaAddNewComment(action) {\n  try {\n    const newPost = yield call(APIAddNewComment, action.payload);\n    yield put(addNewComment(newPost));\n  } catch (error) {\n    yield showError(\n      error.response.data[0] ||\n        `\n        Привет, кажется ты нашел баг!\n        Сейчас разберемся..\n    `\n    );\n  }\n}\n\n//------ Удалить выбранный комментарий ------ //\n\nfunction* sagaDeleteComment(action) {\n  try {\n    yield call(APIdeleteComment, action.payload.commentId);\n    yield put(deleteComment(action.payload.commentId, action.payload.postId));\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n}\n\n//------ Измененить комментарий  ------ //\n\nfunction* sagaChangeComment(action) {\n  try {\n    yield call(APIchangeComment, action.payload);\n  } catch (error) {\n    yield showError(error.response.data[0]);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}